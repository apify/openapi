get:
  tags:
    - Key-value stores
  summary: Get list of key-value stores
  description: >-
    Gets the list of key-value stores owned by the user.

    The response is a list of objects, where each objects contains a basic
    information about a single key-value store.


    The endpoint supports pagination using the `limit` and `offset` parameters
    and it will not return more than 1000

    array elements.


    By default, the records are sorted by the `createdAt` field in ascending
    order,

    therefore you can use pagination to incrementally fetch all key-value stores
    while new

    ones are still being created. To sort the records in descending order, use
    the `desc=1`

    parameter.
  operationId: getListOfKeyValueStores
  parameters:
    - name: token
      in: query
      description: API authentication token.
      required: true
      style: form
      explode: true
      schema:
        type: string
        example: soSkq9ekdmfOslopH
    - name: offset
      in: query
      description: >-
        Number of records that should be skipped at the start. The default value
        is `0`.
      style: form
      explode: true
      schema:
        type: number
        format: double
        example: 10
    - name: limit
      in: query
      description: >-
        Maximum number of records to return. The default value as well as the
        maximum is `1000`.
      style: form
      explode: true
      schema:
        type: number
        format: double
        example: 99
    - name: desc
      in: query
      description: >-
        If `true` or `1` then the objects are sorted by the `startedAt` field in
        descending order. By default, they are sorted in ascending order.
      style: form
      explode: true
      schema:
        type: boolean
        example: true
    - name: unnamed
      in: query
      description: >-
        If `true` or `1` then all the stores are returned. By default, only
        named key-value stores are returned.
      style: form
      explode: true
      schema:
        type: boolean
        example: true
    - name: name
      in: query
      description: ''
      style: form
      explode: true
      schema:
        type: string
  responses:
    '200':
      description: ''
      headers: {}
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../components/schemas/keyValueStore/getListOfKeyValueStoresResponse.yaml
              - example:
                  data:
                    total: 2
                    offset: 0
                    limit: 1000
                    desc: false
                    count: 2
                    items:
                      - id: WkzbQMuFYuamGv3YF
                        name: d7b9MDYsbtX5L7XAj
                        userId: BPWDBd7Z9c746JAnF
                        username: janedoe
                        createdAt: '2019-12-12T07:34:14.202Z'
                        modifiedAt: '2019-12-13T08:36:13.202Z'
                        accessedAt: '2019-12-14T08:36:13.202Z'
                        actId: null
                        actRunId: null
                      - id: YiKoxjkaS9gjGTqhF
                        name: eshop-items
                        userId: BPWDBd7Z9c746JAnF
                        username: janedoe
                        createdAt: '2019-12-12T07:34:14.202Z'
                        modifiedAt: '2019-12-13T08:36:13.202Z'
                        accessedAt: '2019-12-14T08:36:13.202Z'
                        actId: null
                        actRunId: null
          example:
            data:
              total: 2
              offset: 0
              limit: 1000
              desc: false
              count: 2
              items:
                - id: WkzbQMuFYuamGv3YF
                  name: d7b9MDYsbtX5L7XAj
                  userId: BPWDBd7Z9c746JAnF
                  username: janedoe
                  createdAt: '2019-12-12T07:34:14.202Z'
                  modifiedAt: '2019-12-13T08:36:13.202Z'
                  accessedAt: '2019-12-14T08:36:13.202Z'
                  actId: null
                  actRunId: null
                - id: YiKoxjkaS9gjGTqhF
                  name: eshop-items
                  userId: BPWDBd7Z9c746JAnF
                  username: janedoe
                  createdAt: '2019-12-12T07:34:14.202Z'
                  modifiedAt: '2019-12-13T08:36:13.202Z'
                  accessedAt: '2019-12-14T08:36:13.202Z'
                  actId: null
                  actRunId: null
  deprecated: false
post:
  tags:
    - Key-value stores
  summary: Create key-value store
  description: >-
    Creates a key-value store and returns its object. The response is the same
    object as returned

    by the [Get store](#reference/key-value-stores/store-object/get-store)
    endpoint.

    Keep in mind that data stored under unnamed store follows [data retention
    period](https://docs.apify.com/platform/storage#data-retention).


    It creates a store with the given name if the parameter name is used.

    If there is another store with the same name, the endpoint does not create a
    new one and returns the existing object instead.
  operationId: createKeyValueStore
  parameters:
    - name: token
      in: query
      description: API authentication token.
      required: true
      style: form
      explode: true
      schema:
        type: string
        example: soSkq9ekdmfOslopH
    - name: name
      in: query
      description: Custom unique name to easily identify the store in the future.
      style: form
      explode: true
      schema:
        type: string
        example: eshop-values
    - name: limit
      in: query
      description: ''
      style: form
      explode: true
      schema:
        type: string
    - name: offset
      in: query
      description: ''
      style: form
      explode: true
      schema:
        type: string
    - name: desc
      in: query
      description: ''
      style: form
      explode: true
      schema:
        type: string
    - name: unnamed
      in: query
      description: ''
      style: form
      explode: true
      schema:
        type: string
  responses:
    '201':
      description: ''
      headers:
        Location:
          content:
            text/plain:
              schema:
                type: string
              example: 'https://api.apify.com/v2/key-value-stores/WkzbQMuFYuamGv3YF'
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../components/schemas/keyValueStore/createKeyValueStoreResponse.yaml
              - example:
                  data:
                    id: WkzbQMuFYuamGv3YF
                    name: d7b9MDYsbtX5L7XAj
                    userId: wRsJZtadYvn4mBZmm
                    createdAt: '2019-12-12T07:34:14.202Z'
                    modifiedAt: '2019-12-13T08:36:13.202Z'
                    accessedAt: '2019-12-14T08:36:13.202Z'
                    actId: null
                    actRunId: null
          example:
            data:
              id: WkzbQMuFYuamGv3YF
              name: d7b9MDYsbtX5L7XAj
              userId: wRsJZtadYvn4mBZmm
              createdAt: '2019-12-12T07:34:14.202Z'
              modifiedAt: '2019-12-13T08:36:13.202Z'
              accessedAt: '2019-12-14T08:36:13.202Z'
              actId: null
              actRunId: null
  deprecated: false
